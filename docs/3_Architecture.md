# Архитектура

Основное описание архитектуры, ключевых технологий и используемых моделей ведется автоматически и всегда актуально в следующих файлах в корне проекта:

- **[GEMINI.md](../GEMINI.md)** - Описание архитектуры, связанной с Gemini.
- **[QWEN.md](../QWEN.md)** - Описание, связанное с QWEN.

## Конвейер данных (Data Pipeline)

Система построена на автоматизированном конвейере данных, который обеспечивает перенос знаний из локальной среды в облако для доступа через веб-интерфейс.

1.  **Локальная база знаний**:
    - Заметки ведутся в локальной директории: `/Users/eugene/Library/CloudStorage/GoogleDrive-ekirshin@gmail.com/Мой диск/OBSIDIAN/FF-BASE`.
    - Путь к этой базе является настраиваемым и регулируется через переменную окружения `FF_BASE_DIR`.
    - Файлы из этой директории автоматически синхронизируются с облачным хранилищем Google Drive.

2.  **Ежедневная синхронизация в облаке**:
    - Облачная функция, расположенная в `/cloud-function`, запускается по расписанию раз в день.
    - Эта функция выполняет синхронизацию между папкой проекта в Google Drive и бакетом в Google Cloud Storage (GCS).

3.  **Источник данных для приложения**:
    - Данные из Google Cloud Storage (GCS) используются как основной источник информации для работы публичного веб-сайта.
    - Сайт (`https://ff-base-4d8ee.web.app/`) обращается к этим данным для выполнения поиска и генерации ответов.